<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HTRC Feature Extraction</title>

    <!-- Bootstrap -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Highlight.js -->
    <link rel="stylesheet" href="bower_components/highlightjs/styles/default.css">
    <script src="bower_components/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
  <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
            </div>
        </div>
    </div>
  <div class="container" style="padding-top:70px">
  <div class="row">
        <div class="col-md-12">
        <!--START INTRO-->
        
<h1 id="page-level-features-from-the-htrc">Page-Level Features From the HTRC</h1>
<p>Introduction. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vestibulum felis a sapien pellentesque, in imperdiet odio consequat….</p>
        
        </div> <!-- END intro col -->
    </div>
    <div class="row">
	    <div class="col-md-6">
            <h2>Sample Code</h2>
	    <pre><code>

{
  "id": "39015000225717",
  "pageCount": 88,
  "pages": [
    {
      "pageNumber": 1,
      "headerStats": {
        "tokenCount": 0,
        "lineCount": 0,
        "emptyLineCount": 0,
        "sentenceCount": 0,
        "tokens": {},
        "beginLineChars": {},
        "endLineChars": {}
      },
      "bodyStats": {
        <span class="blah">&nbsp;</span>"tokenCount": 4,
        "lineCount": 4,
        "emptyLineCount": 0,
        "sentenceCount": 1,
        "tokens": {
          "GRAD": {
            "NNP": 1
          },
          "1903": {
            "CD": 1
          }
        },
        "beginLineChars": {
          "1": 1,
          "8": 1
        },
        "endLineChars": {
          "3": 1,
          "8": 1
        }
      },
      "footerStats": {
        "tokenCount": 0,
        "lineCount": 0,
        "emptyLineCount": 0,
        "sentenceCount": 0,
        "tokens": {},
        "beginLineChars": {},
        "endLineChars": {}
      },
      "tokenCount": 4,
      "lineCount": 4,
      "emptyLineCount": 0,
      "sentenceCount": 1
    },
…
{
      "pageNumber": 16,
      "tokenCount": 180,
	…
      "lineCount": 25,
      "emptyLineCount": 0,
      "sentenceCount": 7
    },
	    </code></pre>
	</div> <!-- End example JSON column -->
	<div class="col-md-6">
    <!-- START DOCUMENTATION -->
    
    <h2 id="documentation">Documentation</h2>

<h3 id="volume">Volume</h3>
<p>The volume represents the current work (e.g. book) as represented in the HathiTrust index.</p>
<p><strong>id</strong>: A unique identifier for the current volume. This is the same identifier used in the HathiTrust and HathiTrust Research Center corpora.</p>
<p><strong>pageCount</strong>: The number of pages in the volume.</p>
<p><strong>pages</strong>: An array of JSON objects, each representing a page of the volume.</p>
<h3 id="page">Page</h3>
<p>Pages are contained within volumes, they have a sequence number, and information about their header, body, and footer.</p>
<h4 id="page-level-information">Page-level information</h4>
<p><strong>seq</strong>: The sequence number. [link-to-faq See notes on ID usage.]</p>
<p><strong>lineCount</strong>: Number of non-empty lines in the page.</p>
<p><strong>emptyLineCount</strong>: Number of empty lines in the page.</p>
<p><strong>sentenceCount</strong>: Number of sentences identified in the page using OpenNLP. [link-to-faq Details on parsing].</p>
<h4 id="header-body-and-footer-information">Header, Body, and Footer information</h4>
<p>The fields for <em>headerStats</em>, <em>bodyStats</em>, and <em>footerStats</em> are the same, but apply to different parts of the page. [link-to-faq Read about the differences between the sections.]</p>
<p><strong>tokenCount</strong>: The total number of tokens in this page section.</p>
<p><strong>lineCount</strong>: The number of lines containing characters of any kind in this page section. This represents the layout of the page, for sentence counts, see the <em>sentenceCount</em> field.</p>
<p><strong>emptyLineCount</strong>: The number of lines without text in this page section.</p>
<p><strong>sentenceCount</strong>: The number of sentences found in the text in this page section, parsed using OpenNLP.</p>
<p><strong>tokens</strong>: A list of all tokens in this page section characterized by part of speech using OpenNLP. Tokens are case-sensitive. Hyphenation of tokens at end of line were corrected. Words separated by a hypen across a line break are rejoined. No other data cleaning or OCR correction was performed. There will be separate counts, for instance, for “rose” (noun) and “rose” (verb). [link-to-faq Details on POS parsing and types of tags used.]</p>
<p><strong>beginLineChars</strong>: Count of the initial character of each line in this page section (ignoring whitespace).</p>
<p><strong>endLineChars</strong>: Count of the last character on each line in this page section (ignoring whitespace).</p>
<p><strong>How are tokens parsed?</strong></p>

    
	</div> <!-- End short documentation -->
    </div> <!-- End row-->
    <hr />
    <div class="row">
	    <div class="col-md-8">
		    <h2>Download Links</h2>
		    <p class="text-warning">By downloading the archives below, you agree to our <a>Terms of Use</a>.<strong>(placeholder)</strong></p>
		    <p><a><span class="glyphicon glyphicon-compressed"></span> file.bz2</a>
	    </div>
	    <div class="col-md-4">
		    <h2>About the Data</h2>
		    <p>The data provided here represents non-consumptive features of pages from the HathiTrust Research Center public domain dataset.</p>
		    <table class="table">
			    <tr>
				    <td># of pages</td><td>###</td>
			   </tr><tr>
				    <td># of volumes</td><td>###</td>
			   </tr><tr>
				    <td>Years</td><td>1xxx-1xxx</td>
			   </tr>
		    </table>
	    </div>
    </div>
    <div class="row">
	    <div class="col-md-12">
        <!-- START DOCUMENTATION/QUESTION -->
<h2 id="questions">Questions</h2>
<p><strong>How are tokens parsed?</strong></p>
<p>Hyphenation of tokens at end of line were corrected. Then OpenNLP was used to tokenize and perform part of speech (POS) tagging. No additional data cleaning or OCR correction was performed. Additional information on</p>
<p><strong>Can I use the page sequence as an unique identifier?</strong></p>
<p>The <em>seq</em> value is always sequential from the start. This means that the pages of a volume each have a unique sequence number, but this is specific to the current version of the full text. In theory, updates to the OCR that add or remove pages will change the sequence. The practical likelihood of sequential changes is low, but uses of the page as an id should be cautious.</p>
<p>A future release of this data will include persistent page identifiers that remain unchanged when there are sequential changes.</p>
<p><strong>Where’s the metadata? Who wrote the book, when is it from, etc.?</strong></p>
<p>This download includes features extracted from the full-text pages of volumes in the HTRC collection. HTRC offers a metadata API where you can find more information about the volumes, using the volume <em>id</em> field. {LINK to details about API.}</p>
<p>[If we can provide <em>some</em> kind of bulk metadata for each tar.gz of volumes, that would be great. Even like a .csv of author, title, date, language, etc. would be helpful. Otherwise people aren’t going to do anything with the data, realistically. If I have to hammer on an API to identify which volumes in a set are relevant to me, I’m usually going to put that off to another day. Ted]</p>
<p><strong>What do I do with beginning- or end-of-line characters?</strong></p>
<p>The characters at the start of a line can be used to differentiate text from paratext at a page level: for instance, index lines tend to begin with capitalized letters and an index page often includes repeated initial characters with a set of numbers at the end of lines.</p>
<p>The characters at the end of a line can be used to differentiate text from paratext: lines in a table of contents, for instance, tend to end with a number.</p>
<p><strong>What is the difference between the header, body, and footer sections?</strong></p>
<p>Because repeated headers and footers can distort word counts in a document, but also help identify document parts, we attempt to identify repeated lines at the top or bottom of a page and provide separate token counts for those forms of paratext. The “header” and “footer” sections will also include tokens that are page numbers, catchwords, or other short lines at the very top or bottom of a page. Users can of course ignore these divisions by aggregating the token counts for header, body, and footer sections.</p>

	    </div> <!-- End documentation col-->
    </div> <!-- End documentation row-->
    <hr />
    <div class="row">
	    <div class="col-md-4">
		    <h4>Contact Us</h4>
		    <p>Contact Info</p>
	    </div>
	    <div class="col-md-4">
		    <h4>Tools</h4>
		    <p>TBA<p>
		    <p class="text-muted">If you've built tools or scripts for processing our data, <a>let us know</a>!</p>
	    </div>
	    <div class="col-md-4">
		    <h4>Projects</h4>
		    <p class="text-muted">Let us know about your projects and we'll link to them here.</p>
	    </div>
    </div>

    </div> <!-- End body container-->


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script>$(span:contains("\"tokenCount\"")).css("text-size", 30)</script>
  </div></body>
</html>
